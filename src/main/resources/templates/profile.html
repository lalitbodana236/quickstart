<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="base::layout(~{::section})">
<head>
<meta charset="ISO-8859-1">
<title>profile</title>
</head>
<body>
	<section class="text-center">
		<h1>Profile Page</h1>

		<!-- <h4>Name: [[${user.firstname}]]</h4>
		<h4>Email: [[${user.email}]]</h4>
		<h4>Mob No: [[${user.mobile}]]</h4>
		<h4>Role: [[${user.role}]]</h4>
		<a href="/logout">Logout</a> -->
		
		 <div class="container mt-5">
        <div class="row">
            <!-- Left Section -->
            <div class="col-md-3">
                <h4>Options</h4>
                <ul class="list-group">
               		 <li class="list-group-item"><a href="#" id="viewProfile">View Profile</a></li>
                    <li class="list-group-item"><a href="#" id="settings">Settings</a></li>
                    <li class="list-group-item"><a href="#" id="terms">Terms and Conditions</a></li>
                </ul>
            </div>

            <!-- Right Section -->
            <div class="col-md-9">
                <!-- User Details Card (Initially Hidden) -->
                <div class="card" id="userDetailsCard">
                    <div class="card-header">
                        User Details
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="mb-3">
                                <label for="firstName" class="form-label">First Name</label>
                                <input type="text" class="form-control" id="firstname" name="firstname"  th:value="${user.firstname}"  readonly>
                            </div>
                            <div class="mb-3">
                                <label for="lastName" class="form-label">Last Name</label>
                                <input type="text" class="form-control" id="lastname" name="lastname" th:value="${user.lastname}" readonly>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" name="email" th:value="${user.email}" readonly>
                            </div>
                           <!--  <div class="mb-3">
                                <label for="username" class="form-label">Username</label>
                                <input type="text" class="form-control" id="username" name="username" th:value="${user.username}" readonly>
                            </div> -->
                            <div class="mb-3">
                                <label for="mobile" class="form-label">Mobile</label>
                                <input type="mobile" class="form-control" id="mobile" name="mobile" th:value="${user.mobile}" readonly>
                            </div>
                            <div class="mb-3">
                                <label for="role" class="form-label">Role</label>
                                <input type="role" class="form-control" id="role" name="role" th:value="${user.role}" readonly>
                            </div>
                        </form>
                    </div>
                </div>
                
                 <div class="card" id="editUserDetailsCard" style="display: none;">
                    <div class="card-header">
                        User Details
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="mb-3">
                                <label for="firstName" class="form-label">First Name</label>
                                <input type="text" class="form-control" id="firstname" name="firstname"  th:value="${user.firstname}">
                            </div>
                            <div class="mb-3">
                                <label for="lastName" class="form-label">Last Name</label>
                                <input type="text" class="form-control" id="lastname" name="lastname" th:value="${user.lastname}">
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" name="email" th:value="${user.email}" readonly>
                            </div>
                        </form>
                    </div>
                </div>
                
                
            </div>
        </div>
    </div>

    <!-- Add Bootstrap JS scripts -->
    
  <script th:inline="javascript">
  document.getElementById('settings').addEventListener('click', editUserDetailsCard);
  document.getElementById('viewProfile').addEventListener('click', showUserDetails);
  document.getElementById('terms').addEventListener('click', showUserDetails);

  function showUserDetails() {
      // Retrieve Thymeleaf values from hidden input fields
      var firstName = document.getElementById('firstname').value;
      var lastName = document.getElementById('lastname').value;
      var email = document.getElementById('email').value;
      var mobile = document.getElementById('mobile').value;
      var role = document.getElementById('role').value;

      // Fill user details in the form
      document.getElementById('firstname').value = firstName;
      document.getElementById('lastname').value = lastName;
      document.getElementById('email').value = email;
      document.getElementById('mobile').value = mobile;
      document.getElementById('role').value = role;

      // Show the user details card
      document.getElementById('userDetailsCard').style.display = 'block';
      document.getElementById('editUserDetailsCard').style.display = 'none';
  }
  
  function editUserDetailsCard() {
      // Retrieve Thymeleaf values from hidden input fields
      var firstName = document.getElementById('firstname').value;
      var lastName = document.getElementById('lastname').value;
      var email = document.getElementById('email').value;
     

      // Fill user details in the form
      document.getElementById('firstname').value = firstName;
      document.getElementById('lastname').value = lastName;
      document.getElementById('email').value = email;
      // Show the user details card
      document.getElementById('userDetailsCard').style.display = 'none';
      document.getElementById('editUserDetailsCard').style.display = 'block';
  }
</script>


		
		
	</section>
</body>
</html>